---
title: 数据结构之HashMap
date: 2019-06-22 17:25:26
tags:
- todo
categories:
- java

---

# 数据结构之HashMap

HashMap 1.8 与 1.7 对比

红黑树的出现，1.8 中当每个桶中的冲突超过 7 个时，链表则会转成红黑树，让 O(N) 访问效率转为O(logN)。

在 JDK 1.8 的实现中，优化了高位运算的算法，通过 hashCode() 的高 16 位异或低 16 位实现的，目的为了使得位置索引更离散些。

1.7 中 resize，只有当 size >= threshold 并且 table 中的那个槽中已经有 Entry 时，才会发生 resize。1.8 中只要大于 threshold 即扩容。

1.7 中添加元素时候，有冲突时，先遍历整个链表，确认是否已存在，不存在则进行头插法。而 1.8 中有冲突时候，链表形态下，是添加在尾部的。

1.7 中扩充时候，也是采用头插法，会导致之前元素相对位置倒置了。而 1.8 中扩充时，链表形态下，采用尾插法。之前元素相对位置未变化。



